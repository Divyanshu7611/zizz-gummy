import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{c as n,e as m,f as c,g as h,h as y}from"./index-9UJ_CmXS.js";import{r as f}from"./index-BJYSoprK.js";import{a as g,b as N,c as j,F as C}from"./components-y71cCI0k.js";import"./iconBase-XUSceaOP.js";const S=()=>[{title:"Your Addresses"}];function T(){const{customer:r}=g(),{defaultAddress:l,addresses:t}=r,[s,a]=f.useState(!1);return e.jsxs("div",{className:"account-addresses",children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-800 mb-6 flex items-center",children:[e.jsx(n,{className:"mr-3 text-blue-600 text-2xl"}),"Your Addresses"]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:t.nodes.length?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Add New Address"}),e.jsxs("button",{onClick:()=>a(!s),className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:[e.jsx(m,{className:"mr-2"}),s?"Cancel":"Add Address"]})]}),s&&e.jsx(v,{onClose:()=>a(!1)})]}),e.jsx("hr",{className:"border-gray-200"}),e.jsx(w,{addresses:t,defaultAddress:l})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(n,{className:"mx-auto text-5xl text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4 text-lg",children:"You haven't saved any addresses yet."}),e.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 transition-colors",children:[e.jsx(m,{className:"mr-2"}),"Add New Address"]})]})})]})}function v({onClose:r}){const l={address1:"",address2:"",city:"",company:"",territoryCode:"",firstName:"",id:"new",lastName:"",phoneNumber:"",zoneCode:"",zip:""};return e.jsx(u,{addressId:"NEW_ADDRESS_ID",address:l,defaultAddress:null,children:({stateForMethod:t})=>e.jsxs("div",{className:"flex justify-end space-x-4 mt-4",children:[e.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),e.jsxs("button",{disabled:t("POST")!=="idle",formMethod:"POST",type:"submit",className:`flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors ${t("POST")!=="idle"?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx(c,{className:"mr-2"}),t("POST")!=="idle"?"Creating...":"Create Address"]})]})})}function w({addresses:r,defaultAddress:l}){return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Existing Addresses"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.nodes.map(t=>e.jsx(u,{addressId:t.id,address:t,defaultAddress:l,children:({stateForMethod:s})=>e.jsxs("div",{className:"flex justify-end space-x-4 mt-4",children:[e.jsxs("button",{disabled:s("PUT")!=="idle",formMethod:"PUT",type:"submit",className:`flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors ${s("PUT")!=="idle"?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx(c,{className:"mr-2"}),s("PUT")!=="idle"?"Saving...":"Save"]}),e.jsxs("button",{disabled:s("DELETE")!=="idle",formMethod:"DELETE",type:"submit",className:`flex items-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors ${s("DELETE")!=="idle"?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx(h,{className:"mr-2"}),s("DELETE")!=="idle"?"Deleting...":"Delete"]})]})},t.id))})]})}function u({addressId:r,address:l,defaultAddress:t,children:s}){var i;const{state:a,formMethod:x}=N(),o=j(),d=(i=o==null?void 0:o.error)==null?void 0:i[r],b=(t==null?void 0:t.id)===r;return e.jsxs(C,{id:r,className:"bg-gray-50 p-6 rounded-lg shadow-sm",children:[e.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("input",{type:"hidden",name:"addressId",defaultValue:r}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),e.jsx("input",{"aria-label":"First name",autoComplete:"given-name",defaultValue:(l==null?void 0:l.firstName)??"",id:"firstName",name:"firstName",placeholder:"First name",required:!0,type:"text",className:"block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),e.jsx("input",{"aria-label":"Last name",autoComplete:"family-name",defaultValue:(l==null?void 0:l.lastName)??"",id:"lastName",name:"lastName",placeholder:"Last name",required:!0,type:"text",className:"block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),e.jsx("input",{"aria-label":"Company",autoComplete:"organization",defaultValue:(l==null?void 0:l.company)??"",id:"company",name:"company",placeholder:"Company (optional)",type:"text",className:"block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),e.jsx("input",{"aria-label":"Phone Number",autoComplete:"tel",defaultValue:(l==null?void 0:l.phoneNumber)??"",id:"phoneNumber",name:"phoneNumber",placeholder:"+16135551111",pattern:"^\\+?[1-9]\\d{3,14}$",type:"tel",className:"block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"address1",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 1 *"}),e.jsx("input",{"aria-label":"Address line 1",autoComplete:"address-line1",defaultValue:(l==null?void 0:l.address1)??"",id:"address1",name:"address1",placeholder:"Address line 1",required:!0,type:"text",className:"block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"address2",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 2"}),e.jsx("input",{"aria-label":"Address line 2",autoComplete:"address-line2",defaultValue:(l==null?void 0:l.address2)??"",id:"address2",name:"address2",placeholder:"Address line 2 (optional)",type:"text",className:"block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),e.jsx("input",{"aria-label":"City",autoComplete:"address-level2",defaultValue:(l==null?void 0:l.city)??"",id:"city",name:"city",placeholder:"City",required:!0,type:"text",className:"block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"zoneCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"State / Province *"}),e.jsx("input",{"aria-label":"State/Province",autoComplete:"address-level1",defaultValue:(l==null?void 0:l.zoneCode)??"",id:"zoneCode",name:"zoneCode",placeholder:"State / Province",required:!0,type:"text",className:"block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"zip",className:"block text-sm font-medium text-gray-700 mb-1",children:"Zip / Postal Code *"}),e.jsx("input",{"aria-label":"Zip",autoComplete:"postal-code",defaultValue:(l==null?void 0:l.zip)??"",id:"zip",name:"zip",placeholder:"Zip / Postal Code",required:!0,type:"text",className:"block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"territoryCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Country Code *"}),e.jsx("input",{"aria-label":"Country Code",autoComplete:"country",defaultValue:(l==null?void 0:l.territoryCode)??"",id:"territoryCode",name:"territoryCode",placeholder:"e.g., US, CA",required:!0,type:"text",maxLength:2,className:"block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"md:col-span-2 flex items-center",children:[e.jsx("input",{defaultChecked:b,id:"defaultAddress",name:"defaultAddress",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"defaultAddress",className:"ml-2 text-sm text-gray-700",children:"Set as default address"})]}),d&&e.jsxs("div",{className:"md:col-span-2 p-3 bg-red-100 text-red-700 rounded-md flex items-center",children:[e.jsx(y,{className:"mr-2 text-lg"}),e.jsx("p",{className:"text-sm font-medium",children:d})]})]}),s({stateForMethod:p=>x===p?a:"idle"})]})}export{T as default,S as meta};
