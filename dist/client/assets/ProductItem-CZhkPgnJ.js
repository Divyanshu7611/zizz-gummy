import{j as t}from"./jsx-runtime-0DLF9kdB.js";import{j as v}from"./index-USkqr3S0.js";import{u as A}from"./variants-Y11x64Ch.js";import{G as F}from"./iconBase-XUSceaOP.js";import{L as f}from"./components-y71cCI0k.js";import{I as P}from"./Image-C8hgQviM.js";import{M as y}from"./Money-gTdCFF4I.js";function S({analytics:l,children:n,disabled:e,lines:s,onClick:o}){return t.jsx(v,{route:"/cart",inputs:{lines:s},action:v.ACTIONS.LinesAdd,children:i=>t.jsxs(t.Fragment,{children:[t.jsx("input",{name:"analytics",type:"hidden",value:JSON.stringify(l)}),t.jsx("button",{type:"submit",onClick:o,className:"w-full",disabled:e??i.state!=="idle",children:n})]})})}function E(l){return F({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 0 0 .6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0 0 46.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"},child:[]}]})(l)}function G({product:l,loading:n}){var d,r,m,x,p,h,u,b,g,j;const e=(r=(d=l==null?void 0:l.variants)==null?void 0:d.nodes)==null?void 0:r[0],s=l.featuredImage,o=A(l.handle),i=(x=(m=l.metafields)==null?void 0:m.find(a=>(a==null?void 0:a.namespace)==="custom"&&(a==null?void 0:a.key)==="short_description"))==null?void 0:x.value,N=((p=e==null?void 0:e.compareAtPrice)==null?void 0:p.amount)&&Number(e.compareAtPrice.amount)>Number(e.price.amount),c=(j=(g=(b=(u=(h=l.sellingPlanGroups)==null?void 0:h.nodes)==null?void 0:u[0])==null?void 0:b.sellingPlans)==null?void 0:g.nodes)==null?void 0:j[0],w=e!=null&&e.id?[{merchandiseId:e.id,quantity:1,...c&&{sellingPlanId:c.id}}]:[];return t.jsxs("div",{className:"product-item rounded shadow-sm space-y-2 bg-[#FAFAFA] p-4 relative",children:[t.jsxs(f,{prefetch:"intent",to:o,className:"block bg-[#FAFAFA] drop-shadow-xl shadow-[#0000001A] relative",children:[t.jsxs("div",{className:"relative",children:[s&&t.jsx(P,{alt:s.altText||l.title,aspectRatio:"1/1",data:s,loading:n,sizes:"(min-width: 45em) 400px, 100vw",className:"w-full object-cover rounded"}),(e==null?void 0:e.availableForSale)===!1&&t.jsx("span",{className:"absolute top-2 left-2 bg-red-600 text-white text-xs md:text-sm px-2 py-1 rounded shadow-md z-10",children:"Out of Stock"}),t.jsxs("span",{className:"absolute top-2 right-2 bg-white text-yellow-500 text-xs md:text-sm px-2 py-1 rounded shadow-md flex items-center gap-1 z-10",children:[t.jsx(E,{className:"text-yellow-400"}),"4.5"]})]}),t.jsxs("div",{className:"p-2",children:[t.jsx("h4",{className:"mt-2 text-[#1F1F1F] font-bold text-xl md:text-3xl",children:l.title}),i&&t.jsx("p",{className:"text-[#1E1E1E] text-sm md:text-base mt-1 line-clamp-2",children:i}),t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx("small",{className:"text-[#1E1E1E] text-2xl md:text-4xl font-semibold",children:t.jsx(y,{data:(e==null?void 0:e.price)||l.priceRange.minVariantPrice})}),N&&(e==null?void 0:e.compareAtPrice)&&t.jsx("small",{className:"text-[#1E1E1E] text-lg md:text-xl line-through opacity-60",children:t.jsx(y,{data:e.compareAtPrice})})]})]})]},l.id),(e==null?void 0:e.id)&&t.jsx(S,{lines:w,analytics:{productId:l.id,productTitle:l.title,price:e.price.amount,currency:e.price.currencyCode},disabled:!e.availableForSale,children:t.jsx("button",{className:`w-full py-2 rounded transition-all text-white ${e.availableForSale?"bg-black hover:bg-gray-800":"bg-gray-400 cursor-not-allowed"}`,children:e.availableForSale?c?"Add Subscription":"Add to Cart":"Sold Out"})})]})}export{G as P};
